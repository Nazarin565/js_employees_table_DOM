{"mappings":"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","sources":["src/scripts/main.js"],"sourcesContent":["'use strict';\n\nconst table = document.querySelector('table');\nconst tr = document.querySelector('tr');\nconst tbody = document.querySelector('tbody');\nconst form = document.createElement('form');\n\nlet messageCount = 0;\n\nfunction createForm() {\n  form.classList.add('new-employee-form');\n\n  const fields = [\n    {\n      fieldType: 'input',\n      name: 'name',\n      type: 'text',\n      label: 'Name: ',\n    },\n    {\n      fieldType: 'input',\n      name: 'position',\n      type: 'text',\n      label: 'Position: ',\n    },\n    {\n      fieldType: 'select',\n      name: 'office',\n      label: 'Office: ',\n      options: [\n        'Tokyo',\n        'Singapore',\n        'London',\n        'New York',\n        'Edinburgh',\n        'San Francisco',\n      ],\n    },\n    {\n      fieldType: 'input',\n      name: 'age',\n      type: 'number',\n      label: 'Age: ',\n    },\n    {\n      fieldType: 'input',\n      name: 'salary',\n      type: 'number',\n      label: 'Salary: ',\n    },\n  ];\n\n  for (const field of fields) {\n    const label = document.createElement('label');\n\n    label.textContent = field.label;\n\n    if (field.fieldType === 'input') {\n      const input = document.createElement('input');\n\n      input.name = field.name;\n      input.type = field.type;\n      input.setAttribute('data-qa', field.name);\n\n      input.style.marginLeft = '16px';\n\n      label.appendChild(input);\n    } else if (field.fieldType === 'select') {\n      const select = document.createElement('select');\n\n      select.name = field.name;\n      select.setAttribute('data-qa', field.name);\n\n      field.options.forEach((opt) => {\n        const option = document.createElement('option');\n\n        option.value = opt;\n        option.textContent = opt;\n\n        select.appendChild(option);\n      });\n\n      label.appendChild(select);\n    } else {\n      return;\n    }\n\n    form.appendChild(label);\n  }\n\n  const button = document.createElement('button');\n\n  button.textContent = 'Save to table';\n  button.type = 'submit';\n\n  form.appendChild(button);\n\n  table.insertAdjacentElement('afterend', form);\n}\n\nfunction pushNotification(type, description) {\n  const message = document.createElement('div');\n\n  message.className = `notification ${type}`;\n  message.setAttribute('data-qa', 'notification');\n  message.style.position = 'fixed';\n  message.style.right = '10px';\n\n  const h2 = document.createElement('h2');\n\n  h2.className = 'title';\n  h2.textContent = type === 'error' ? 'Error' : 'Success';\n\n  const p = document.createElement('p');\n\n  p.textContent = description;\n\n  message.appendChild(h2);\n  message.appendChild(p);\n\n  document.body.appendChild(message);\n\n  message.style.top = `${messageCount * (message.offsetHeight + 10)}px`;\n\n  messageCount++;\n\n  setTimeout(() => {\n    message.remove();\n    messageCount--;\n  }, 2000);\n}\n\nfunction sortTable(sortIndex) {\n  const rows = Array.from(tbody.querySelectorAll('tr'));\n\n  const sortOrder = tr\n    .querySelectorAll('th')\n    [sortIndex].classList.contains('asc');\n\n  tr.querySelectorAll('th').forEach((item, index) => {\n    if (index !== sortIndex) {\n      item.classList.remove('asc', 'desc');\n    }\n  });\n\n  rows.sort((a, b) => {\n    const aText = a.querySelectorAll('td')[sortIndex].innerText;\n    const bText = b.querySelectorAll('td')[sortIndex].innerText;\n\n    const aNumber = parseFloat(aText.replace(/[$,]/g, ''));\n    const bNumber = parseFloat(bText.replace(/[$,]/g, ''));\n\n    if (\n      aText.toString() === aText &&\n      bText.toString() === bText &&\n      isNaN(aNumber) &&\n      isNaN(bNumber)\n    ) {\n      return sortOrder\n        ? bText.localeCompare(aText)\n        : aText.localeCompare(bText);\n    } else {\n      return sortOrder ? bNumber - aNumber : aNumber - bNumber;\n    }\n  });\n\n  rows.forEach((row) => tbody.appendChild(row));\n}\n\ncreateForm();\n\nform.addEventListener('submit', function (e) {\n  e.preventDefault();\n\n  const newEmployeeData = {};\n  let hasErrors = false;\n\n  form.querySelectorAll('label').forEach((label) => {\n    const input = label.firstElementChild;\n\n    if (!input.value.trim()) {\n      pushNotification(\n        'error',\n        `${input.name.charAt(0).toUpperCase() + input.name.slice(1)} field can't be empty!`,\n      );\n      hasErrors = true;\n\n      return;\n    } else if (input.name === 'name' && input.value.trim().length < 4) {\n      pushNotification(\n        'error',\n        'Name field must contain more than 4 characters!',\n      );\n      hasErrors = true;\n\n      return;\n    } else if (\n      input.name === 'age' &&\n      (input.value.trim() < 18 || input.value.trim() > 90)\n    ) {\n      pushNotification('error', 'Age must be from 18 to 90');\n      hasErrors = true;\n\n      return;\n    }\n\n    if (input.name === 'salary') {\n      const salary = parseFloat(input.value.trim());\n\n      if (isNaN(salary)) {\n        pushNotification('error', 'Salary must be a valid number.');\n\n        return;\n      }\n\n      newEmployeeData[input.name] = `$${parseFloat(salary.toFixed(2))\n        .toString()\n        .replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}`;\n    } else {\n      newEmployeeData[input.name] = input.value.trim();\n    }\n  });\n\n  if (hasErrors) {\n    return;\n  }\n\n  function addNewEmployeeToTable() {\n    const newRow = document.createElement('tr');\n\n    for (const key of Object.keys(newEmployeeData)) {\n      const newTd = document.createElement('td');\n\n      newTd.textContent = newEmployeeData[key];\n\n      newRow.appendChild(newTd);\n    }\n\n    tbody.appendChild(newRow);\n\n    pushNotification('success', 'New employee was added successfully!');\n  }\n\n  addNewEmployeeToTable();\n});\n\ntbody.addEventListener('click', (e) => {\n  const activeLink = e.target.closest('tr');\n\n  if (!activeLink) {\n    return;\n  }\n\n  tbody.querySelectorAll('tr').forEach((row) => {\n    row.classList.remove('active');\n  });\n\n  activeLink.classList.add('active');\n});\n\ntr.addEventListener('click', (e) => {\n  const link = e.target.closest('th');\n\n  let index;\n\n  tr.querySelectorAll('th').forEach((item, i) => {\n    if (item === link) {\n      index = i;\n    }\n  });\n\n  if (!link) {\n    return;\n  }\n\n  sortTable(index);\n\n  if (link.classList.contains('asc')) {\n    link.classList.remove('asc');\n    link.classList.add('desc');\n  } else if (link.classList.contains('desc')) {\n    link.classList.remove('desc');\n    link.classList.add('asc');\n  } else {\n    link.classList.add('asc');\n  }\n});\n\ntbody.addEventListener('dblclick', (e) => {\n  const editingCell = e.target.closest('td');\n\n  if (!editingCell) {\n    return;\n  }\n\n  const editingInput = document.createElement('input');\n\n  editingInput.value = editingCell.textContent;\n\n  editingInput.classList.add('cell-input');\n\n  editingCell.textContent = '';\n  editingCell.appendChild(editingInput);\n\n  editingInput.focus();\n  editingInput.select();\n\n  editingInput.addEventListener('blur', () => {\n    editingCell.textContent = editingInput.value || editingCell.textContent;\n  });\n\n  editingInput.addEventListener('keydown', (ev) => {\n    if (ev.key === 'Enter') {\n      editingCell.textContent = editingInput.value || editingCell.textContent;\n    }\n  });\n});\n"],"names":[],"version":3,"file":"index.f75de5e1.js.map","sourceRoot":"/__parcel_source_root/"}